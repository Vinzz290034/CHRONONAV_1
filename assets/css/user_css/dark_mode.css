/* General Dark Mode Styles */
body.dark-mode {
    background-color: #121212;
    color: #e0e0e0;
}

body.dark-mode .main-dashboard-content {
    background-color: #1e1e1e;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

body.dark-mode .card {
    background-color: #2c2c2c;
    color: #e0e0e0;
    border-color: #444;
}

body.dark-mode .list-group-item {
    background-color: #2c2c2c;
    border-color: #444;
}

/* Ensure all text, including default paragraphs, is white */
body.dark-mode,
body.dark-mode p,
body.dark-mode span,
body.dark-mode strong,
body.dark-mode small,
body.dark-mode label,
body.dark-mode td,
body.dark-mode th,
body.dark-mode .form-label {
    color: #ffffff !important;
}

/* Headings and links */
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode h4,
body.dark-mode h5,
body.dark-mode h6,
body.dark-mode a:not(.btn) {
    color: #aeabab;
}

body.dark-mode .text-muted {
    color: #b0b0b0 !important;
}

/* Form controls */
body.dark-mode .form-control,
body.dark-mode .form-select,
body.dark-mode .form-control:read-only {
    background-color: #333;
    color: #e0e0e0;
    border-color: #555;
}

body.dark-mode .form-control:focus {
    background-color: #444;
    border-color: #666;
    color: #e0e0e0;
}

body.dark-mode .form-check-input:checked {
    background-color: #1abc9c;
    border-color: #1abc9c;
}

body.dark-mode .dropdown-menu {
    background-color: #2c2c2c;
    border-color: #444;
}

body.dark-mode .dropdown-item {
    color: #ffffff;
}

body.dark-mode .dropdown-item:hover {
    background-color: #3e3e3e;
}

/* ====================================================================== */
/* Dark Mode Overrides for Header */
/* ====================================================================== */
/* Ensure the main top header/navbar is dark */
body.dark-mode .app-header { /* Assuming .app-header is the main wrapper for your top bar */
    background-color: #212529 !important; /* Dark background */
    border-bottom: 1px solid #333; /* Subtle border */
    color: #ffffff; /* Default text color for the header */
}

body.dark-mode .navbar {
    background-color: #212529 !important; /* Force dark background for navbar */
}
body.dark-mode .navbar-nav .nav-link,
body.dark-mode .navbar-brand {
    color: #ffffff !important;
}
body.dark-mode .navbar-nav .nav-link:hover,
body.dark-mode .navbar-nav .nav-link.active {
    color: #ffffff !important;
    background-color: rgba(255, 255, 255, 0.1);
}
body.dark-mode .navbar-icon-circle {
    background-color: #343a40;
    border-color: transparent;
}
body.dark-mode .navbar-icon-circle .fas {
    color: #ffffff;
}
body.dark-mode .navbar-nav .nav-item .nav-link:hover .navbar-icon-circle {
    background-color: #495057;
    border-color: #ffffff;
}
body.dark-mode .navbar-nav .nav-item .nav-link:hover .navbar-icon-circle .fas {
    color: #ffffff;
}
body.dark-mode .navbar-profile-dropdown .dropdown-header {
    color: #ffffff;
}
body.dark-mode .navbar-profile-img {
    border-color: #495057;
}
body.dark-mode .navbar-profile-dropdown .dropdown-toggle:hover .navbar-profile-img {
    border-color: #ffffff;
}
body.dark-mode .navbar-profile-dropdown .dropdown-menu {
    background-color: #212529;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}
body.dark-mode .navbar-profile-dropdown .dropdown-item {
    color: #ffffff;
}
body.dark-mode .navbar-profile-dropdown .dropdown-item:hover {
    background-color: #495057;
    color: #ffffff;
}
body.dark-mode .navbar-profile-dropdown .dropdown-divider {
    border-color: #495057;
}
body.dark-mode .navbar-toggler {
    border-color: rgba(255, 255, 255, .2);
}
body.dark-mode .navbar-toggler-icon {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
}

/* ====================================================================== */
/* Dark Mode Overrides for Sidenav */
/* ====================================================================== */
body.dark-mode .app-sidebar {
    background-color: #1e1e1e;
    border-right: 1px solid #333;
    color: #ffffff;
}

body.dark-mode .sidebar-header {
    border-bottom: 1px solid #444;
}

body.dark-mode .logo-container {
    color: #ffffff;
}

body.dark-mode .app-sidebar-menu .nav-link {
    color: #e0e0e0;
}

body.dark-mode .app-sidebar-menu .nav-link .fas {
    color: #ffffff;
}

body.dark-mode .app-sidebar-menu .nav-link:hover {
    background-color: #2c2c2c;
    color: #ffffff;
}

body.dark-mode .app-sidebar-menu .nav-link:hover .fas {
    color: #ffffff;
}

body.dark-mode .app-sidebar-menu .nav-link.active {
    background-color: #1abc9c;
    color: #ffffff;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
}

body.dark-mode .app-sidebar .nav-item.mt-auto {
    border-top: 1px solid #444;
}

/* ====================================================================== */
/* Dark Mode Overrides for Calendar/Schedule Numbers and Modals */
/* ====================================================================== */
body.dark-mode .calendar-day,
body.dark-mode .calendar-days-header div,
body.dark-mode .calendar-grid-cell,
body.dark-mode .calendar-grid-cell .day-number {
    color: #ffffff;
}

/* Modal-specific styles for the popup window */
body.dark-mode .modal-content {
    background-color: #1e1e1e;
    color: #ffffff;
}

body.dark-mode .modal-header {
    background-color: #1e1e1e;
    border-bottom-color: #333;
}

body.dark-mode .modal-body {
    color: #ffffff;
}

body.dark-mode .modal-footer {
    background-color: #1e1e1e;
    border-top-color: #333;
}

/* Make sure modal text and close button is visible */
body.dark-mode .modal-header .modal-title {
    color: #ffffff;
}

body.dark-mode .modal .btn-close {
    background-color: transparent;
    color: #ffffff;
    filter: invert(1) grayscale(100%) brightness(200%);
}

/* Additions to fix table readability */
body.dark-mode .table,
body.dark-mode .table thead th,
body.dark-mode .table tbody td,
body.dark-mode .table-striped tbody tr:nth-of-type(odd) {
    background-color: #2c2c2c !important;
    color: #ffffff !important;
    border-color: #444;
}

body.dark-mode .table-striped tbody tr:nth-of-type(even) {
    background-color: #212121 !important;
    color: #ffffff !important;
    border-color: #444;
}

/* Specific for User Management and other tables */
body.dark-mode .table-responsive {
    border: 1px solid #444;
}

body.dark-mode .table-hover tbody tr:hover {
    background-color: #333 !important;
}

body.dark-mode .table-bordered {
    border: 1px solid #444;
}

/* Specific for Support Center messages and replies */
body.dark-mode .admin-reply,
body.dark-mode .admin-reply-form,
body.dark-mode .accordion-body p,
body.dark-mode .accordion-body textarea {
    color: #ffffff;
}
body.dark-mode .admin-reply {
    background-color: #212529 !important;
    color: #ffffff !important;
}

body.dark-mode .accordion-body {
    background-color: #2c2c2c;
}

/* New: Styles for view_profile.php to ensure readability in dark mode */
body.dark-mode .profile-container {
    background-color: #2c2c2c;
    border-color: #444;
}

body.dark-mode .profile-header,
body.dark-mode .profile-details-section,
body.dark-mode .app-preferences-section,
body.dark-mode .account-management-section {
    background-color: #2c2c2c;
    border-color: #444 !important;
}

body.dark-mode .profile-header h4,
body.dark-mode .section-title,
body.dark-mode .profile-details-grid .detail-item p,
body.dark-mode .app-preferences-section .list-group-item,
body.dark-mode .account-management-section .list-group-item,
body.dark-mode .app-version {
    color: #ffffff !important;
}

body.dark-mode .profile-details-grid .detail-item small,
body.dark-mode .text-muted {
    color: #b0b0b0 !important;
}

body.dark-mode .list-group-item-action:hover,
body.dark-mode .list-group-item-action:focus {
    background-color: #3e3e3e;
}

body.dark-mode .btn-light-grey {
    background-color: #495057;
    color: #ffffff !important; /* Changed to white for better readability */
    border-color: #495057;
}

body.dark-mode .btn-light-grey:hover {
    background-color: #555c63;
    color: #ffffff !important;
    border-color: #555c63;
}